![[git_command_scheme.png]]

In figura si possono osservare 4 _livelli_ ordinati:

- **working directory** (*WD*), rappresenta la _configurazione_ della directory di lavoro sul filesystem, esiste indipendentemente da git. Può essere vista come l’unione dei _tracked_ and _untracked_ files;
- **index** (o **area di staging**), l'insieme dei _tracked_ files da git;
- ($n$) **local repository**, l'insieme delle modifiche di cui si è eseguito il **commit** e relativo storico;
- ($m$) **remote repository**, *branch remoto*; è possibile avere sia più branch per progetto remoto che più progetti remoti configurati.

Il termine _**repository**_ è abbastanza fuorviante in questo conteso, poiché comunemente associato ad un progetto, mentre in questa astrazione a livelli corrisponde di fatto a un **branch**.

Il passaggio tra un livello e l’altro non è mai automatico, ma è sempre esplicitato da un’operazione.

# Operazioni di base
---
![[git_structure.png]]

Per ogni branch c’è un puntatore all’ultimo commit di tale branch.
L’**HEAD** punta all’ultimo commit in cui siamo: normalmente corrisponde al puntatore del branch corrente; quando non è così, siamo in una situazione di _HEAD scollegato_.
È utile potersi spostare tra i commit per controllare revisioni precedenti, ma in caso di nuovi commit è importante creare un nuovo branch per poterci riferire ad esse.

È consigliata la lettura di [git Cheatsheet](http://ndpsoftware.com/git-cheatsheet.html).

## `git commit`
---
Il comando `git commit` ci permette di _salvare_ del contenuto dall’index al branch locale.

![[git_commit.png|left|300]]Dopo aver creato il commit, l’`HEAD` e il puntatore al branch corrente puntano al nuovo commit. Anche il contenuto dell’index equivale al contenuto del commit.
 



![[git_commit_amend.png|right|300]]                                                      Con l’opzione `--amend` è possibile rimpiazzare facilmente l’ultimo commit con uno nuovo.